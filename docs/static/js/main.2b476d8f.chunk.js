(this.webpackJsonpkruschinskisrad=this.webpackJsonpkruschinskisrad||[]).push([[0],{13:function(e,t,n){},20:function(e,t){},21:function(e,t){},22:function(e,t){},23:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),i=n.n(s),r=(n(13),n(6)),o=n(2),l=n(0);function u(e){var t=e.members,n=e.onMemberAdd,a=e.onMemberRemove,s=e.onMemberChange,i=c.a.useState(""),r=Object(o.a)(i,2),u=r[0],d=r[1],b=c.a.useState(null),h=Object(o.a)(b,2),f=h[0],m=h[1],j=c.a.useRef(),v=c.a.useCallback((function(e){var t=e.target,n=t.selectionStart;setTimeout((function(){j.current&&(j.current.focus(),j.current.setSelectionRange(n,n))}),0),s(t.value,t.dataset.index)})),g=c.a.useCallback((function(e){13===e.charCode&&(n(e.target.value),d(""))})),O=c.a.useCallback((function(e){a(e.target.dataset.index)}));return Object(l.jsxs)("div",{className:"list-group",children:[t.map((function(e,t){return Object(l.jsxs)("div",{className:"list-group-item",children:[Object(l.jsxs)("div",{className:"list-group-control",children:[t!==f&&Object(l.jsx)("span",{className:"form-control",onClick:function(){m(t),setTimeout((function(){j.current&&j.current.focus()}),0)},children:e}),t===f&&Object(l.jsx)("input",{ref:j,className:"form-control",value:e,"data-index":t,onChange:v})]}),Object(l.jsx)("button",{"data-index":t,className:"btn btn-sm btn-secondary float-right mt-1",onClick:O,children:"\xd7"})]},e)})),Object(l.jsx)("div",{className:"list-group-item",children:Object(l.jsx)("input",{className:"form-control",onKeyPress:g,onChange:function(e){return d(e.target.value)},placeholder:"Enter your member",value:u})})]})}var d=n(3);function b(e){var t=e.members,n=void 0===t?[]:t;c.a.useEffect((function(){var e=new d.fabric.StaticCanvas("c",{width:400,height:400});if(!(n.length<=1)){var t=["#024873","#0FA697","#F2C53D","#BF814B","#591202","#1B91BF","#F2B035","#F2AB91"],a=200,c=195,s=2*Math.PI,i=a+Math.cos(s/n.length)*c,r=a-Math.sin(s/n.length)*c,o=n.length>1?360/n.length:0;return n.forEach((function(n,a){var s=new d.fabric.Path("M 200,200 L ".concat(395,",200 A ").concat(c,", ").concat(c," 1,0,0 ").concat(i,",").concat(r," Z"),{fill:t[a],opacity:1});!function(e,t){var n=new d.fabric.Point(e.left,e.top),a=d.fabric.util.rotatePoint(n,new d.fabric.Point(200,200),d.fabric.util.degreesToRadians(t));e.left=a.x,e.top=a.y,e.angle=t}(s,o/2-180+o*a),e.add(s)})),n.forEach((function(t,n){var c=new d.fabric.Text("".concat(t,"   "),{fill:"white",originX:"right",originY:"center",angle:o*n,left:a,top:a});e.add(c)})),function(){e.dispose()}}}),[n]);var a=c.a.useState(0),s=Object(o.a)(a,2),i=s[0],r=s[1],u=c.a.useState(""),b=Object(o.a)(u,2),h=b[0],f=b[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"message-balloon",children:"Touch me! for a spin"}),Object(l.jsx)("canvas",{style:{transform:"rotate(".concat(i,"deg)")},onClick:function(){f("animating"),r(i+360*Math.random()*5)},onTransitionEnd:function(){f(""),r(i%360)},id:"c",className:h,width:400,height:400})]})}function h(){c.a.useEffect((function(){var e=window.location.search?window.location.search.match(/d=(.+)/):null;if(e){var t=atob(e[1]).split(",");a(t),window.history.replaceState(null,null,"/")}}),[]);var e=c.a.useState(["Neo","Anderson","Morpheus"]),t=Object(o.a)(e,2),n=t[0],a=t[1],s=c.a.useCallback((function(){var e=btoa(n.join(",")),t="".concat("https://www.khanhhua.com/kruschinskisrad","?d=").concat(e);navigator.clipboard.writeText(t)}),[n]);return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"display-4 mb-5",children:"Kruschinskis Rad"}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-2 offset-md-10",children:Object(l.jsx)("button",{className:"btn btn-sm btn-primary",onClick:s,children:"Copy shared link!"})})}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-5 offset-md-1",children:Object(l.jsx)(u,{members:n,onMemberChange:function(e,t){var c=Object(r.a)(n);c[t]=e,a(c)},onMemberAdd:function(e){var t=[].concat(Object(r.a)(n),[e]);a(t)},onMemberRemove:function(e){var t=Object(r.a)(n);t.splice(e,1),a(t)}})}),Object(l.jsxs)("div",{className:"col-5",children:[Object(l.jsx)("div",{id:"arrow"}),Object(l.jsx)(b,{members:n})]})]})]})}i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.2b476d8f.chunk.js.map